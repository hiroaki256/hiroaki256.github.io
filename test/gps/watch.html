<!DOCTYPE html>
<html>
<head>
    <!-- 参考: http://www.hp-stylelink.com/news/2013/08/20130830.php  -->
    <meta charset="utf-8" />
    <title>Geolocation watch Sample</title>
</head>
<body>
<script type="text/javascript">
    if (navigator.geolocation) {
        // 現在の位置情報取得を実施
        navigator.geolocation.watchPosition(
        // 位置情報取得成功時
        function (pos) {
                var location ="<li>"+"緯度：" + pos.coords.latitude + "</li>";
                location += "<li>"+"経度：" + pos.coords.longitude + "</li>";
                var parent = document.getElementById("location"); 
                var elemUl = document.createElement('ul');
                elemUl.innerHTML = location;
                parent.appendChild(elemUl);
        },
        // 位置情報取得失敗時
        function (pos) {
                var location ="<li>位置情報が取得できませんでした。</li>";
                document.getElementById("location").innerHTML = location;
        });
    } else {
        window.alert("本ブラウザではGeolocationが使えません");
    }
</script>
    <div id="location">
    </div>
</body>
</html>

